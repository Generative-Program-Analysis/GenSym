\newcommand{\TLang}{$L_\lambda$}

\section{Preliminaries}

In this section, we first describe the abstract syntax of the language we will
analyze, then present the generic interface shared between the four different
interpreters. We choose to use Scala to demonstrate the idea, but the idea of
utilizing monads and multi-stages also can be easily constructed in other functional
languages, such as MetaOCaml \cite{DBLP:conf/gpce/CalcagnoTHL03,
  DBLP:conf/flops/Kiselyov14} or Template Haskell \cite{Sheard:2002:TMH:636517.636528} \todo{cite the recent one}.
We first instantiate the interpreter to the concrete one; then we
proceed in two directions: by staging it we obtain a staged concrete interpreter
(Section~\ref{stagedinterp}); by abstracting it we obtain an unstaged abstract
interpreter (Section~\ref{unstaged_abs}).

\input{21_bg_interp}
\input{22_bg_stage}
\input{23_bg_abs}
